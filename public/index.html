<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kamusal Mal Oyunu - Ekonomi Deneyi</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ğŸ¯ Kamusal Mal Oyunu</h1>
            <p class="subtitle">Ekonomik Karar Verme Deneyi</p>
        </header>

        <!-- Welcome Screen -->
        <div id="welcome-screen" class="screen active">
            <div class="card">
                <h2>Deneye HoÅŸ Geldiniz!</h2>
                <p>Bu deney, grup iÃ§indeki ekonomik karar verme sÃ¼reÃ§lerini inceler. Deney yaklaÅŸÄ±k 10-15 dakika sÃ¼recektir.</p>
                <div class="info-box">
                    <h3>ğŸ® Oyun KurallarÄ±:</h3>
                    <ul>
                        <li>4 kiÅŸilik gruplar halinde oynayacaksÄ±nÄ±z</li>
                        <li>Her oyuncu 20 TL ile baÅŸlayacak</li>
                        <li>Gruba ne kadar katkÄ±da bulunacaÄŸÄ±nÄ±za karar vereceksiniz</li>
                        <li>TÃ¼m katkÄ±lar ikiye katlanÄ±p eÅŸit olarak paylaÅŸÄ±lacak</li>
                    </ul>
                </div>
                
                <div class="form-group">
                    <label for="participant-name">KatÄ±lÄ±mcÄ± AdÄ± (isteÄŸe baÄŸlÄ±):</label>
                    <input type="text" id="participant-name" placeholder="AdÄ±nÄ±zÄ± giriniz">
                </div>
                
                <button id="join-btn" class="btn btn-primary">Oyuna KatÄ±l</button>
            </div>
        </div>

        <!-- Waiting Screen -->
        <div id="waiting-screen" class="screen">
            <div class="card">
                <h2>ğŸ”„ DiÄŸer Oyuncular Bekleniyor...</h2>
                <div class="player-counter">
                    <span id="current-players">1</span> / 4 oyuncu
                </div>
                <div class="loading">
                    <div class="spinner"></div>
                    <p>LÃ¼tfen bekleyin, diÄŸer oyuncular katÄ±lÄ±yor...</p>
                </div>
                <div class="room-info">
                    <p><strong>Oda ID:</strong> <span id="room-id">-</span></p>
                    <p><strong>Oyuncu NumarasÄ±:</strong> <span id="player-number">-</span></p>
                </div>
            </div>
        </div>

        <!-- Instructions Screen -->
        <div id="instructions-screen" class="screen">
            <div class="card">
                <h2>ğŸ“‹ Oyun TalimatlarÄ±</h2>
                <div class="instructions-content">
                    <div class="instruction-item">
                        <h3>ğŸ¯ AmaÃ§</h3>
                        <p>4 kiÅŸilik grubunuzda, 20 TL'nizin ne kadarÄ±nÄ± grup kasasÄ±na katkÄ± olarak verebileceÄŸinize karar vereceksiniz.</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h3>ğŸ’° NasÄ±l Ã‡alÄ±ÅŸÄ±r?</h3>
                        <ol>
                            <li>Her oyuncu 20 TL ile baÅŸlar</li>
                            <li>0-20 TL arasÄ± herhangi bir miktarÄ± gruba katkÄ± olarak verebilirsiniz</li>
                            <li>Gruba verdiÄŸiniz miktar, cebinizden Ã§Ä±kar</li>
                            <li>TÃ¼m oyuncularÄ±n katkÄ±larÄ± toplanÄ±r ve 2 ile Ã§arpÄ±lÄ±r</li>
                            <li>Bu toplam miktar 4 oyuncu arasÄ±nda eÅŸit olarak paylaÅŸÄ±lÄ±r</li>
                            <li>Final kazancÄ±nÄ±z = Cebinizde kalan + Size dÃ¼ÅŸen pay</li>
                        </ol>
                    </div>

                    <div class="example-box">
                        <h3>ğŸ“ Ã–rnek:</h3>
                        <p>Diyelim ki herkes 10 TL katkÄ±da bulundu:</p>
                        <ul>
                            <li>Toplam katkÄ±: 4 Ã— 10 = 40 TL</li>
                            <li>Ä°kiye katlanmÄ±ÅŸ: 40 Ã— 2 = 80 TL</li>
                            <li>Herkesin payÄ±: 80 Ã· 4 = 20 TL</li>
                            <li>Sizin kazancÄ±nÄ±z: 10 TL (cebinizde kalan) + 20 TL (payÄ±nÄ±z) = 30 TL</li>
                        </ul>
                    </div>
                </div>
                
                <button id="start-game-btn" class="btn btn-primary">Oyunu BaÅŸlat</button>
            </div>
        </div>

        <!-- Contribution Screen -->
        <div id="contribution-screen" class="screen">
            <div class="card">
                <h2>ğŸ’µ KatkÄ± KararÄ±nÄ±z</h2>
                <div class="contribution-interface">
                    <div class="money-display">
                        <div class="starting-amount">
                            <h3>BaÅŸlangÄ±Ã§ MiktarÄ±nÄ±z</h3>
                            <div class="amount">20 TL</div>
                        </div>
                    </div>

                    <div class="contribution-selector">
                        <label for="contribution-amount">Gruba katkÄ±nÄ±z (0-20 TL):</label>
                        <div class="slider-container">
                            <input type="range" id="contribution-slider" min="0" max="20" step="1" value="10">
                            <div class="slider-labels">
                                <span>0 TL</span>
                                <span>20 TL</span>
                            </div>
                        </div>
                        <div class="contribution-display">
                            <div class="contribution-amount">
                                <span id="contribution-value">10</span> TL
                            </div>
                        </div>
                    </div>

                    <div class="calculation-preview">
                        <div class="calc-item">
                            <span>KatkÄ±nÄ±z:</span>
                            <span id="preview-contribution">10 TL</span>
                        </div>
                        <div class="calc-item">
                            <span>Cebinizde kalacak:</span>
                            <span id="preview-remaining">10 TL</span>
                        </div>
                    </div>

                    <div class="timer-display">
                        <span>â±ï¸ Karar sÃ¼reniz Ã¶lÃ§Ã¼lÃ¼yor...</span>
                    </div>
                </div>
                
                <button id="submit-contribution-btn" class="btn btn-primary">KararÄ±mÄ± Onayla</button>
            </div>
        </div>

        <!-- Waiting for Others Screen -->
        <div id="waiting-others-screen" class="screen">
            <div class="card">
                <h2>â³ DiÄŸer Oyuncular Karar Veriyor...</h2>
                <div class="waiting-info">
                    <div class="progress-display">
                        <span id="completed-players">1</span> / 4 oyuncu kararÄ±nÄ± verdi
                    </div>
                    <div class="loading">
                        <div class="spinner"></div>
                        <p>LÃ¼tfen bekleyin...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Comprehension Screen -->
        <div id="comprehension-screen" class="screen">
            <div class="card">
                <h2>ğŸ§  Anlama SorularÄ±</h2>
                <p>LÃ¼tfen aÅŸaÄŸÄ±daki sorularÄ± cevaplayÄ±n:</p>
                
                <div class="question-group">
                    <div class="question">
                        <h3>Soru 1:</h3>
                        <p>Grubun toplam kazancÄ±nÄ± maksimize etmek iÃ§in her oyuncu ne kadar katkÄ±da bulunmalÄ±?</p>
                        <div class="radio-group">
                            <label><input type="radio" name="q1" value="0"> 0 TL</label>
                            <label><input type="radio" name="q1" value="10"> 10 TL</label>
                            <label><input type="radio" name="q1" value="20"> 20 TL</label>
                            <label><input type="radio" name="q1" value="5"> 5 TL</label>
                        </div>
                    </div>

                    <div class="question">
                        <h3>Soru 2:</h3>
                        <p>KiÅŸisel kazancÄ±nÄ±zÄ± maksimize etmek iÃ§in (diÄŸer oyuncularÄ±n katkÄ±sÄ± sabitken) ne kadar katkÄ±da bulunmalÄ±sÄ±nÄ±z?</p>
                        <div class="radio-group">
                            <label><input type="radio" name="q2" value="0"> 0 TL</label>
                            <label><input type="radio" name="q2" value="10"> 10 TL</label>
                            <label><input type="radio" name="q2" value="20"> 20 TL</label>
                            <label><input type="radio" name="q2" value="5"> 5 TL</label>
                        </div>
                    </div>
                </div>
                
                <button id="submit-comprehension-btn" class="btn btn-primary">CevaplarÄ± GÃ¶nder</button>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results-screen" class="screen">
            <div class="card">
                <h2>ğŸ‰ Oyun SonuÃ§larÄ±</h2>
                <div class="results-content">
                    <div class="result-summary">
                        <h3>Sizin SonuÃ§larÄ±nÄ±z:</h3>
                        <div class="result-item">
                            <span>KatkÄ±nÄ±z:</span>
                            <span id="result-contribution">- TL</span>
                        </div>
                        <div class="result-item">
                            <span>Cebinizde kalan:</span>
                            <span id="result-kept">- TL</span>
                        </div>
                        <div class="result-item">
                            <span>Size dÃ¼ÅŸen pay:</span>
                            <span id="result-share">- TL</span>
                        </div>
                        <div class="result-item total">
                            <span>Toplam kazancÄ±nÄ±z:</span>
                            <span id="result-total">- TL</span>
                        </div>
                    </div>

                    <div class="group-summary">
                        <h3>Grup SonuÃ§larÄ±:</h3>
                        <div class="result-item">
                            <span>Grup toplam katkÄ±sÄ±:</span>
                            <span id="group-total-contribution">- TL</span>
                        </div>
                        <div class="result-item">
                            <span>Ä°kiye katlanmÄ±ÅŸ havuz:</span>
                            <span id="group-doubled-pool">- TL</span>
                        </div>
                    </div>

                    <div class="all-contributions">
                        <h3>TÃ¼m Oyuncu KatkÄ±larÄ±:</h3>
                        <div id="all-contributions-list">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <button id="continue-to-demo-btn" class="btn btn-primary">Demografik Bilgilere GeÃ§</button>
            </div>
        </div>

        <!-- Demographics Screen -->
        <div id="demographics-screen" class="screen">
            <div class="card">
                <h2>ğŸ“‹ Demografik Bilgiler</h2>
                <p>Son olarak, araÅŸtÄ±rma iÃ§in bazÄ± demografik bilgiler rica ediyoruz:</p>
                
                <div class="form-group">
                    <label for="age">YaÅŸÄ±nÄ±z:</label>
                    <input type="number" id="age" min="18" max="100" required>
                </div>

                <div class="form-group">
                    <label for="gender">Cinsiyetiniz:</label>
                    <select id="gender" required>
                        <option value="">SeÃ§iniz...</option>
                        <option value="kadÄ±n">KadÄ±n</option>
                        <option value="erkek">Erkek</option>
                        <option value="diÄŸer">DiÄŸer</option>
                        <option value="belirtmek_istemiyorum">Belirtmek istemiyorum</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="major">BÃ¶lÃ¼mÃ¼nÃ¼z/Ana dalÄ±nÄ±z:</label>
                    <input type="text" id="major" placeholder="Ã–rn: Ä°ktisat, Ä°ÅŸletme, Psikoloji" required>
                </div>
                
                <button id="submit-demographics-btn" class="btn btn-primary">Deneyi Tamamla</button>
            </div>
        </div>

        <!-- Final Screen -->
        <div id="final-screen" class="screen">
            <div class="card text-center">
                <h2>âœ… Deney TamamlandÄ±!</h2>
                <div class="success-message">
                    <p>KatÄ±lÄ±mÄ±nÄ±z iÃ§in Ã§ok teÅŸekkÃ¼rler!</p>
                    <p>VerdiÄŸiniz katkÄ± bilimsel araÅŸtÄ±rmamÄ±z iÃ§in Ã§ok deÄŸerli.</p>
                </div>
                
                <div class="experiment-info">
                    <h3>Bu Deney HakkÄ±nda:</h3>
                    <p>Bu deney, David G. Rand, Joshua D. Greene ve Martin A. Nowak'Ä±n "Spontaneous giving and calculated greed" Ã§alÄ±ÅŸmasÄ±na dayanmaktadÄ±r.</p>
                    <p>Karar verme sÃ¼reniz ve tercihleriniz arasÄ±ndaki iliÅŸki incelenmektedir.</p>
                </div>
                
                <button class="btn btn-secondary" onclick="window.location.reload()">Yeni Deney BaÅŸlat</button>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html> 